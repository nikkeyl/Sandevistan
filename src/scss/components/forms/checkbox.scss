@use "sass:math" as *;
@use "@scss/abstracts" as *;

.checkboxes {
	display: grid;
}

.checkbox {
	$font-size: 18;
	$fix-size: 18;

	display: flex;
	align-items: center;
	gap: em(10, $fix-size);
	font-size: rem($font-size);
	line-height: div(22, $font-size);
	color: var(--primary);

	&__box {
		$size: 20;

		position: relative;
		flex: 0 0 em($size, $fix-size);
		overflow: hidden;
		border: em(2, $fix-size) solid var(--accent);
		border-radius: em(5, $fix-size);
		height: em($size, $fix-size);
		background-color: var(--secondary);

		&::after {
			@include pseudo;

			inset: 0;
			border-radius: em(3, $fix-size);
			background-color: var(--primary);
			transform: scale(0);
			transition: transform 0.3s;
		}

		svg {
			position: absolute;
			inset: em(3, $fix-size);
			z-index: 1;
			width: em(10, $fix-size);
			height: em(10, $fix-size);
			fill: var(--secondary);
			transform: scale(0);
			transition: transform 0.3s;
		}
	}

	&__input {
		position: absolute;

		&:checked {
			&:focus-visible + .checkbox__box,
			+ .checkbox__box {
				&::after,
				svg {
					transform: scale(1);
				}
			}

			&:disabled + .checkbox__box {
				border-color: var(--disabled);

				&::after {
					background-color: var(--disabled);
				}
			}
		}

		&:focus-visible + .checkbox__box {
			&::after,
			svg {
				transform: scale(1);
			}
		}

		&:disabled + .checkbox__box {
			border-color: var(--disabled);
		}
	}

	&:not(:last-child) {
		margin-bottom: em(5, $fix-size);
	}
}
